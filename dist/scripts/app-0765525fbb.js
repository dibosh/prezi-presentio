!function(){"use strict";angular.module("lodash",[]),angular.module("moment",[]),angular.module("preziPresentio.controllers",[]),angular.module("preziPresentio.directives",[]),angular.module("preziPresentio.services",[]),angular.module("preziPresentio.filters",[]),angular.module("preziPresentio",["preziPresentio.controllers","preziPresentio.directives","preziPresentio.services","preziPresentio.filters","ngAnimate","ngSanitize","ngMessages","ui.router","ngMaterial","toastr","lodash","moment"])}(),function(){"use strict";function e(e,t,r,i,o){function n(e){a.presentationTiles=t.map(e,function(e){return e.span={"default":2},e})}function s(){a.shouldShowProgressView=!0,a.showSearchedByText=!1,e.getMatchedPresentations(a.query).success(l).error(c)}var a=this;a.query=r.query;var l=function(e){a.shouldShowErrorView=!1,a.shouldShowProgressView=!1,a.showSearchedByText=!0,n(e.presentations)},c=function(e){a.shouldShowProgressView=!1,a.errorMessage="Something bad happened. Please refresh.",a.shouldShowErrorView=!0,i.debug(e)};s(),a.close=function(){o.go("home")}}e.$inject=["PresentationService","_","$stateParams","$log","$state"],angular.module("preziPresentio").controller("SearchResultViewController",e)}(),function(){"use strict";function e(e,t,r,i){function o(e){s.presentationTiles=t.map(e,function(e){return e.span={"default":2},e}),s.orderByOption=s.orderBy.options[0].value,s.orderPresentationsBy(s.orderByOption)}function n(t){s.query="",s.errorMessage="",s.shouldShowProgressView=!0,s.searchPlaceholder="Search all presentations",s.currentOffset=t,s.pageSize=20,s.totalPresentations=0,e.getPresentations(s.currentOffset,s.pageSize).success(a).error(l)}var s=this;s.orderByOption={},s.orderBy={options:[{name:"Latest first",value:"desc"},{name:"Older first",value:"asc"}]},s.visiblePagination={lower:s.currentOffset+1,upper:s.currentOffset+1+s.pageSize};var a=function(e){s.shouldShowProgressView=!1,s.totalPresentations=e.total,s.visiblePagination.lower=s.currentOffset*s.pageSize+1,s.visiblePagination.upper=s.visiblePagination.lower+s.pageSize-1,s.maxOffset||(s.maxOffset=Math.ceil(s.totalPresentations/s.pageSize)-1),o(e.presentations)},l=function(e){s.shouldShowProgressView=!1,s.errorMessage="Something bad happened. Please refresh.",r.debug(e)};s.fetchNextPage=function(){s.currentOffset+=1,n(s.currentOffset)},s.fetchPrevPage=function(){s.currentOffset-=1,s.currentOffset=s.currentOffset<0?0:s.currentOffset,n(s.currentOffset)},s.searchByTitle=function(){i.go("search",{query:s.query})},s.orderPresentationsBy=function(e){var r=t.map(s.presentationTiles,function(e){return e.createdAtDateObj=Date.parse(e.createdAt),e});s.presentationTiles=t.orderBy(r,["createdAtDateObj"],[e])},n(0)}e.$inject=["PresentationService","_","$log","$state"],angular.module("preziPresentio").controller("MainController",e)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:"app/components/progress.indicator.directive/progress_indicator.html",scope:{shouldIndicateProgress:"=",optionalMessage:"="}}}angular.module("preziPresentio.directives").directive("progressIndicatorDirective",e)}(),function(){"use strict";function e(){return{link:function(e,t,r){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(r.onEnterPress)}),t.preventDefault())})}}}angular.module("preziPresentio.directives").directive("onEnterPress",e)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:"app/components/alert.message.directive/alert_message.html",scope:{errorMessage:"="}}}angular.module("preziPresentio.directives").directive("alertMessageDirective",e)}(),function(){"use strict";function e(e){return e._}angular.module("lodash").factory("_",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){return e.moment}angular.module("moment").factory("moment",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){var t="https://prezipresentioserver.herokuapp.com/api/presentation/all";return{getPresentations:function(r,i){return e.get(t+"/"+r+"/"+i)},getMatchedPresentations:function(r){return e.get(t+"?q="+r)}}}e.$inject=["$http"],angular.module("preziPresentio.services").factory("PresentationService",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("preziPresentio").run(e)}(),function(){"use strict";function e(e,t){var r=[{name:"home",url:"/",templateUrl:"app/views/main/main.html",controller:"MainController"},{name:"search",url:"/search/:query",templateUrl:"app/views/search-results/search_results.html",controller:"SearchResultViewController"}];angular.forEach(r,function(t){e.state(t.name,{url:t.url,templateUrl:t.templateUrl,controller:t.controller,controllerAs:"viewModel"})}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("preziPresentio").config(e)}(),function(){"use strict";function e(e,t,r){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",r.theme("default").primaryPalette("blue-grey").accentPalette("light-blue").warnPalette("red")}e.$inject=["$logProvider","toastrConfig","$mdThemingProvider"],angular.module("preziPresentio").config(e)}(),angular.module("preziPresentio").run(["$templateCache",function(e){e.put("app/components/alert.message.directive/alert_message.html",'<div layout="column" layout-align="center center" ng-class="{\'show\': errorMessage.length > 0, \'hide\': errorMessage.length === 0}" class="full-page-center-aligned-container"><h1>{{ errorMessage }}</h1><p class="catch-the-culprit">If it still persists, please catch the culprit behind all this, before he runs (<md-icon>directions_run</md-icon>) away!<br><a href="mailto:abdulmunim.buet@gmail.com" target="_top">Stop him by sending an email!!!</a></p></div>'),e.put("app/components/progress.indicator.directive/progress_indicator.html",'<div layout="column" layout-align="center center" ng-class="{\'show\': shouldIndicateProgress, \'hide\': !shouldIndicateProgress}" class="full-page-center-aligned-container"><div layout="row" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div><p>{{ optionalMessage || \'Please wait for the awesomeness!\'}}</p></div>'),e.put("app/views/main/main.html",'<div class="wrap" layout="column"><alert-message-directive error-message="viewModel.errorMessage"></alert-message-directive><div class="base-container" ng-if="viewModel.errorMessage.length === 0"><div class="search-box" ng-if="!viewModel.showSearchedByText" layout="row" layout-align="start center"><md-icon flex="none" flex-order="1">search</md-icon><input flex="grow" flex-order="1" class="search-input" ng-model="viewModel.query" on-enter-press="viewModel.searchByTitle()" type="text" placeholder="{{ viewModel.searchPlaceholder }}"></div><div style="margin-top: 20px" layout="row" layout-xs="column" layout-padding="" layout-align-gt-sm="start center"><md-input-container class="md-block" flex-gt-sm="20" flex="100"><label>Sort by creation date</label><md-select ng-model="viewModel.orderByOption" md-on-close="viewModel.orderPresentationsBy(viewModel.orderByOption)"><md-option ng-repeat="option in viewModel.orderBy.options" value="{{ option.value }}">{{ option.name }}</md-option></md-select></md-input-container><div class="pagination-panel" layout="row" layout-align="center center" layout-align-gt-sm="end center" flex-gt-sm="80" flex="100"><md-button class="md-icon-button md-primary" ng-disabled="viewModel.currentOffset === 0" ng-click="viewModel.fetchPrevPage()"><md-icon>chevron_left</md-icon></md-button><md-button class="md-icon-button md-primary" ng-disabled="viewModel.currentOffset === viewModel.maxOffset" ng-click="viewModel.fetchNextPage()"><md-icon>chevron_right</md-icon></md-button>Showing {{ viewModel.visiblePagination.lower }}-{{ viewModel.visiblePagination.upper }} of {{ viewModel.totalPresentations }} presentations</div></div><div layout="column" layout-padding=""><progress-indicator-directive should-indicate-progress="viewModel.shouldShowProgressView"></progress-indicator-directive><md-grid-list ng-if="!viewModel.shouldShowProgressView" md-cols="10" md-cols-xs="2" md-cols-sm="4" md-cols-md="8" md-row-height="1:1" md-gutter="16px"><md-grid-tile ng-repeat="tile in viewModel.presentationTiles track by $index" md-colspan="{{tile.span.default}}" md-rowspan="{{tile.span.default}}" ng-cloak=""><img class="tile-image" ng-src="{{tile.thumbnail}}" alt=""><md-grid-tile-footer><h3 class="tile-title">{{tile.title}}<br><span class="created-at">{{tile.createdAt}}</span></h3><p class="creator-info">Created with<md-icon style="color: red">favorite</md-icon>by<br><a target="_blank" ng-href="{{tile.creator.profileUrl}}">{{ tile.creator.name }}</a></p></md-grid-tile-footer></md-grid-tile></md-grid-list></div></div></div>'),e.put("app/views/search-results/search_results.html",'<div class="wrap" layout="column"><alert-message-directive error-message="viewModel.errorMessage" ng-if="viewModel.shouldShowErrorView"></alert-message-directive><div class="base-container" ng-if="!viewModel.shouldShowErrorView"><div ng-if="viewModel.showSearchedByText" layout="row" layout-align="start center"><p ng-if="viewModel.presentationTiles.length > 0">Showing {{ viewModel.presentationTiles.length }} results for <strong><q>{{viewModel.query}}</q></strong>.</p><p ng-if="viewModel.presentationTiles.length === 0">Sorry, nothing found for <strong><q>{{viewModel.query}}</q></strong>. Try another search.</p><md-button class="md-icon-button md-primary" ng-click="viewModel.close()"><md-icon class="md-icon-right">clear</md-icon></md-button></div><div style="height: 80vh; overflow: auto; box-sizing: border-box; padding-bottom: 50px"><md-content layout-padding=""><progress-indicator-directive ng-if="viewModel.shouldShowProgressView"></progress-indicator-directive><md-grid-list ng-if="!viewModel.shouldShowProgressView" md-cols="10" md-cols-xs="2" md-cols-sm="4" md-cols-md="8" md-row-height="1:1" md-gutter="16px"><md-grid-tile ng-repeat="tile in viewModel.presentationTiles track by $index" md-colspan="{{tile.span.default}}" md-rowspan="{{tile.span.default}}" ng-cloak=""><img class="tile-image" ng-src="{{tile.thumbnail}}" alt=""><md-grid-tile-footer><h3 class="tile-title">{{tile.title}}</h3><p class="creator-info">Created with<md-icon style="color: red">favorite</md-icon>by<br><a target="_blank" ng-href="{{tile.creator.profileUrl}}">{{ tile.creator.name }}</a></p></md-grid-tile-footer></md-grid-tile></md-grid-list></md-content></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-0765525fbb.js.map
